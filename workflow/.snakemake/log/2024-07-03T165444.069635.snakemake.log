Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=20000
Job stats:
job              count
-------------  -------
all                  1
classify             1
classify_pang       10
total               12

Select jobs to execute...

[Wed Jul  3 16:54:47 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_2.rankt.csv, ../results/viral_pangenomic_test/Cluster_2.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_2.pang.txt
    jobid: 146
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_2.pang.txt
    wildcards: ident=Cluster_2
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:55:05 2024]
Finished job 146.
1 of 12 steps (8%) done
Select jobs to execute...

[Wed Jul  3 16:55:06 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_265.rankt.csv, ../results/viral_pangenomic_test/Cluster_265.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_265.pang.txt
    jobid: 148
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_265.pang.txt
    wildcards: ident=Cluster_265
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:55:11 2024]
Finished job 148.
2 of 12 steps (17%) done
Select jobs to execute...

[Wed Jul  3 16:55:11 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_1919.rankt.csv, ../results/viral_pangenomic_test/Cluster_1919.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_1919.pang.txt
    jobid: 144
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_1919.pang.txt
    wildcards: ident=Cluster_1919
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:55:16 2024]
Finished job 144.
3 of 12 steps (25%) done
Select jobs to execute...

[Wed Jul  3 16:55:16 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_980.rankt.csv, ../results/viral_pangenomic_test/Cluster_980.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_980.pang.txt
    jobid: 142
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_980.pang.txt
    wildcards: ident=Cluster_980
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:55:21 2024]
Finished job 142.
4 of 12 steps (33%) done
Select jobs to execute...

[Wed Jul  3 16:55:22 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_325.rankt.csv, ../results/viral_pangenomic_test/Cluster_325.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_325.pang.txt
    jobid: 149
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_325.pang.txt
    wildcards: ident=Cluster_325
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:55:27 2024]
Finished job 149.
5 of 12 steps (42%) done
Select jobs to execute...

[Wed Jul  3 16:55:28 2024]
rule classify:
    input: ../results/viral_pangenomic_test/Cluster_5352.rankt.csv, ../results/sourmash/sketches/read_s100/SRR11125655.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_5352xSRR11125655.txt
    jobid: 95
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_5352xSRR11125655.txt
    wildcards: ident=Cluster_5352, metag=SRR11125655
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:56:01 2024]
Error in rule classify:
    jobid: 95
    input: ../results/viral_pangenomic_test/Cluster_5352.rankt.csv, ../results/sourmash/sketches/read_s100/SRR11125655.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_5352xSRR11125655.txt
    conda-env: branchwater
    shell:
         
        sourmash scripts pangenome_classify         ../results/sourmash/sketches/read_s100/SRR11125655.sig.gz ../results/viral_pangenomic_test/Cluster_5352.rankt.csv -k 21 --scaled 100 > ../results/viral_pangenomic_test/classify/Cluster_5352xSRR11125655.txt
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job classify since they might be corrupted:
../results/viral_pangenomic_test/classify/Cluster_5352xSRR11125655.txt
Select jobs to execute...

[Wed Jul  3 16:56:02 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_5352.rankt.csv, ../results/viral_pangenomic_test/Cluster_5352.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_5352.pang.txt
    jobid: 147
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_5352.pang.txt
    wildcards: ident=Cluster_5352
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:56:07 2024]
Finished job 147.
6 of 12 steps (50%) done
Select jobs to execute...

[Wed Jul  3 16:56:07 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_1570.rankt.csv, ../results/viral_pangenomic_test/Cluster_1570.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_1570.pang.txt
    jobid: 141
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_1570.pang.txt
    wildcards: ident=Cluster_1570
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:56:12 2024]
Finished job 141.
7 of 12 steps (58%) done
Select jobs to execute...

[Wed Jul  3 16:56:12 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_29.rankt.csv, ../results/viral_pangenomic_test/Cluster_29.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_29.pang.txt
    jobid: 145
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_29.pang.txt
    wildcards: ident=Cluster_29
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:56:19 2024]
Finished job 145.
8 of 12 steps (67%) done
Select jobs to execute...

[Wed Jul  3 16:56:19 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_13353.rankt.csv, ../results/viral_pangenomic_test/Cluster_13353.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_13353.pang.txt
    jobid: 150
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_13353.pang.txt
    wildcards: ident=Cluster_13353
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:56:23 2024]
Finished job 150.
9 of 12 steps (75%) done
Select jobs to execute...

[Wed Jul  3 16:56:23 2024]
rule classify_pang:
    input: ../results/viral_pangenomic_test/Cluster_4249.rankt.csv, ../results/viral_pangenomic_test/Cluster_4249.pang.sig.gz
    output: ../results/viral_pangenomic_test/classify/Cluster_4249.pang.txt
    jobid: 143
    reason: Missing output files: ../results/viral_pangenomic_test/classify/Cluster_4249.pang.txt
    wildcards: ident=Cluster_4249
    resources: tmpdir=/tmp

Activating conda environment: branchwater
[Wed Jul  3 16:56:28 2024]
Finished job 143.
10 of 12 steps (83%) done
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-07-03T165444.069635.snakemake.log
